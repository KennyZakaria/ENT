<div class="dashboard-card">
  <mat-card>
    <mat-card-header>
      <mat-card-title><mat-icon>person_add</mat-icon> Create New User</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="modern-form">
        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Username</mat-label>
            <input matInput formControlName="username" required>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input matInput type="email" formControlName="email" required>
          </mat-form-field>
        </div>
        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Password</mat-label>
            <input matInput type="password" formControlName="password" required>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>First Name</mat-label>
            <input matInput formControlName="first_name" required>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Last Name</mat-label>
            <input matInput formControlName="last_name" required>
          </mat-form-field>
        </div>
        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Role</mat-label>
            <mat-select formControlName="role" required>
              <mat-option value="teacher">Teacher</mat-option>
              <mat-option value="student">Student</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Sectors</mat-label>
            <mat-select formControlName="sector_ids" multiple required>
              <mat-option *ngFor="let sector of sectors" [value]="sector.id">
                {{sector.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="button-row">
          <button mat-stroked-button type="button" (click)="cancel()">Cancel</button>
          <button mat-flat-button color="primary" type="submit" [disabled]="userForm.invalid">
            Create User
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>